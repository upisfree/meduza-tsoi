!function n(t,e,o){function r(s,c){if(!e[s]){if(!t[s]){var u="function"==typeof require&&require;if(!c&&u)return u(s,!0);if(i)return i(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var m=e[s]={exports:{}};t[s][0].call(m.exports,function(n){var e=t[s][1][n];return r(e?e:n)},m,m.exports,n,t,e,o)}return e[s].exports}for(var i="function"==typeof require&&require,s=0;s<o.length;s++)r(o[s]);return r}({1:[function(n,t,e){var o;o={PING:0,PONG:1,PATH:2,SYNC:3,COLOR:4},t.exports=o},{}],2:[function(n,t,e){var o;o={ws:{address:"146.185.151.189",port:4070},size:{width:640,height:480},period:{ping:2e3},backgroundColor:16777215,lineWidth:2},t.exports=o},{}],3:[function(n,t,e){var o;o={setPing:function(n){return o.id("ping").textContent="ping: "+n+" ms"},setColor:function(n){return o.id("color").innerHTML='color: <span style="color: '+n+'">'+n+"</span>"},setOffsetX:function(n){return o.id("x-offset").textContent="x offset: "+n+" px"},setOffsetY:function(n){return o.id("y-offset").textContent="y offset: "+n+" px"},id:function(n){return document.getElementById(n)}},t.exports=o},{}],4:[function(n,t,e){var o,r,i,s,c;c=n("./tmp"),r=n("./mouse"),s=n("./tick"),i=n("./net"),o=n("./utils/initCanvas"),r.init(),o(),requestAnimationFrame(s),setTimeout(function(){return i.init()},750)},{"./mouse":5,"./net":6,"./tick":14,"./tmp":15,"./utils/initCanvas":16}],5:[function(n,t,e){var o,r;r=n("./tmp"),o={init:function(){return window.onmousedown=o.onmousedown,window.onmouseup=o.onmouseup,window.onmousemove=o.onmousemove},onmousedown:function(n){return o.isDown=!0,r.mousePath.push([n.clientX,n.clientY])},onmouseup:function(){return o.isDown=!1,r.netPath.push(r.mousePath),r.mousePath=[]},onmousemove:function(n){var t;if(o.isDown)return t=r.mousePath,ctx.beginPath(),ctx.moveTo(t[t.length-1][0],t[t.length-1][1]),ctx.lineTo(n.clientX,n.clientY),ctx.stroke(),t.push([n.clientX,n.clientY])},isDown:!1},t.exports=o},{"./tmp":15}],6:[function(n,t,e){var o,r,i,s,c,u;r=n("./config"),u=n("./tmp"),i=n("./net/manager"),c=n("./net/ping"),o=n("./net/color"),s={init:function(){var n;return n=new WebSocket("ws://"+r.ws.address+":"+r.ws.port),n.onopen=s.onopen,n.onclose=s.onclose,n.onmessage=s.onmessage,n.onerror=s.onerror,s.socket=n,s.send=s.socket.send},onopen:function(){return console.log("connected to the server"),c(s.socket),u.pingInterval=setInterval(function(){return c(s.socket),o(s.socket)},r.period.ping)},onclose:function(n){return clearInterval(u.syncInterval),n.wasClean?console.log("clean close"):console.log("dirty close"),console.log("code: "+event.code+", reason: "+event.reason)},onmessage:function(n){return i(n.data,s.socket)},onerror:function(n){return clearInterval(u.syncInterval),alert("error, see console"),console.log(n)},socket:null,send:null},t.exports=s},{"./config":2,"./net/color":7,"./net/manager":9,"./net/ping":11,"./tmp":15}],7:[function(n,t,e){var o,r,i,s;o=n("../commands"),s=n("../tmp"),i=n("../debug"),r=function(n){return s.currentColor="#"+(16777215*Math.random()<<0).toString(16),ctx.strokeStyle=s.currentColor,i.setColor(s.currentColor),n.send(o.COLOR+","+s.currentColor)},t.exports=r},{"../commands":1,"../debug":3,"../tmp":15}],8:[function(n,t,e){var o,r,i,s;s=n("../tmp"),i=n("./path"),o=n("../debug"),r=function(n){return clearInterval(s.syncInterval),o.setPing(s.ping),s.syncInterval=setInterval(function(){return i(n)},s.ping)},t.exports=r},{"../debug":3,"../tmp":15,"./path":10}],9:[function(n,t,e){var o,r,i,s,c;o=n("../commands"),i=n("./pong"),s=n("./sync"),c=n("../tmp"),r=function(n,t){var e,r,c;switch(e=n.split(","),r=+e[0],c=e.slice(1).filter(function(n){return 0!==n.length}),r){case o.PONG:return i(c[0],t);case o.SYNC:return s(n)}},t.exports=r},{"../commands":1,"../tmp":15,"./pong":12,"./sync":13}],10:[function(n,t,e){var o,r,i;o=n("../commands"),i=n("../tmp"),r=function(n){var t,e,r;return t=[o.PATH],r=i.netPath,e=t.concat(r),n.send(e),i.netPath=[]},t.exports=r},{"../commands":1,"../tmp":15}],11:[function(n,t,e){var o,r,i;o=n("../commands"),i=n("../tmp"),r=function(n){return i.pingSendTime=Date.now(),i.pingSendData="random data here",n.send(o.PING+","+i.pingSendData)},t.exports=r},{"../commands":1,"../tmp":15}],12:[function(n,t,e){var o,r,i,s;o=n("../commands"),s=n("../tmp"),r=n("./interval"),i=function(n,t){return n===s.pingSendData?(s.ping=Date.now()-s.pingSendTime,r(t)):console.log("pong error")},t.exports=i},{"../commands":1,"../tmp":15,"./interval":8}],13:[function(n,t,e){var o,r;r=n("../tmp"),o=function(n){return r.syncData=n.slice(2)},t.exports=o},{"../tmp":15}],14:[function(n,t,e){var o,r,i;o=n("./mouse"),i=n("./tmp"),r=function(){var n;return i.syncData.length>0&&(n=new Image,n.onload=function(){return ctx.drawImage(n,0,0)},n.src=i.syncData,i.syncData=""),requestAnimationFrame(r)},t.exports=r},{"./mouse":5,"./tmp":15}],15:[function(n,t,e){var o;o={mousePath:[],netPath:[],syncData:"",ping:0,currentColor:0},t.exports=o},{}],16:[function(n,t,e){var o,r;o=n("../config"),r=function(){var n;return n=document.getElementsByTagName("canvas")[0],n.width=o.size.width,n.height=o.size.height,window.ctx=n.getContext("2d"),ctx.lineJoin="round",ctx.lineWidth=o.lineWidth},window.onresize=function(){return r()},t.exports=r},{"../config":2}]},{},[4]);